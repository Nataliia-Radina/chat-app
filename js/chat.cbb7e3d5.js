(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chat"],{"0a70":function(e,t,n){e.exports=n.p+"img/icon-send.05c17b97.svg"},1282:function(e,t,n){},1566:function(e,t,n){"use strict";n("ecdf")},"25f0":function(e,t,n){"use strict";var a=n("6eeb"),s=n("825a"),i=n("d039"),c=n("ad6d"),r="toString",u=RegExp.prototype,o=u[r],l=i((function(){return"/a/b"!=o.call({source:"a",flags:"b"})})),d=o.name!=r;(l||d)&&a(RegExp.prototype,r,(function(){var e=s(this),t=String(e.source),n=e.flags,a=String(void 0===n&&e instanceof RegExp&&!("flags"in u)?c.call(e):n);return"/"+t+"/"+a}),{unsafe:!0})},"293a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.chatData?n("div",{staticClass:"_chat-container _container"},[n("div",{staticClass:"_top-content"},[n("BackButton",{attrs:{destination:"/chat-list"}}),n("h1",[e._v(e._s(e.chatData.chat_name))]),n("Avatar",{staticClass:"_avatar-with-status",attrs:{imageSrc:e.getImageSrc(e.chatData.chat_img),size:"sm"}})],1),e.chatData.messages?n("div",e._l(e.chatData.messages,(function(t,a){return n("ChatMessage",{key:t.id,attrs:{message:t,showTime:e.displayMessageTime(a)}})})),1):e._e(),n("div",{staticClass:"_bottom-content"},[n("InputField",{attrs:{placeholder:"Message",isMessageInput:""},on:{submitMessage:e.sendMessage}}),n("ButtonLink",{staticClass:"_round-button",attrs:{iconSrc:e.addIcon,disabled:""}})],1),n("ErrorMessage")],1):e._e()},s=[],i=n("5530"),c=n("76ab"),r=n("df3a"),u=n("74c9"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"_chat-message-container"},[e.showTime?n("div",{staticClass:"_time-info"},[e._v(" "+e._s(e.message.time_sent)+" ")]):e._e(),"text"===e.message.message_type?n("div",{staticClass:"_message-text",class:[e.message.is_user_message?"_is-user-message":"_is-friend-message"]},[n("div",{domProps:{innerHTML:e._s(e.message.message_data)}})]):e._e(),"images"===e.message.message_type?n("div",{staticClass:"_message-images"},e._l(e.message.message_data,(function(t){return n("img",{key:t.id,attrs:{src:e.getImageSrc(t.src)}})})),0):e._e()])},l=[],d={name:"ChatMessage",props:{message:{type:Object,required:!0},showTime:{type:Boolean,default:!0}}},p=d,f=(n("301c"),n("2877")),g=Object(f["a"])(p,o,l,!1,null,"5782a8f0",null),v=g.exports,m=n("8192"),h=n("2f62"),y={name:"Chat",components:{Avatar:r["a"],InputField:m["a"],BackButton:u["a"],ButtonLink:c["a"],ChatMessage:v},computed:Object(i["a"])({},Object(h["c"])(["chatData"])),created:function(){this.searchIcon=n("6819"),this.addIcon=n("c39c"),this.getChatData()},methods:Object(i["a"])({displayMessageTime:function(e){return 0===e||this.chatData.messages[e].time_sent!==this.chatData.messages[e-1].time_sent},sendMessage:function(e){this.sendMessage(e),this.getChatData()}},Object(h["b"])(["getChatData","sendMessage"]))},_=y,b=(n("1566"),Object(f["a"])(_,a,s,!1,null,"e6b9beb4",null));t["default"]=b.exports},"301c":function(e,t,n){"use strict";n("6361")},"44e7":function(e,t,n){var a=n("861d"),s=n("c6b6"),i=n("b622"),c=i("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[c])?!!t:"RegExp"==s(e))}},"4d63":function(e,t,n){var a=n("83ab"),s=n("da84"),i=n("94ca"),c=n("7156"),r=n("9bf2").f,u=n("241c").f,o=n("44e7"),l=n("ad6d"),d=n("9f7f"),p=n("6eeb"),f=n("d039"),g=n("69f3").set,v=n("2626"),m=n("b622"),h=m("match"),y=s.RegExp,_=y.prototype,b=/a/g,x=/a/g,I=new y(b)!==b,k=d.UNSUPPORTED_Y,E=a&&i("RegExp",!I||k||f((function(){return x[h]=!1,y(b)!=b||y(x)==x||"/a/i"!=y(b,"i")})));if(E){var C=function(e,t){var n,a=this instanceof C,s=o(e),i=void 0===t;if(!a&&s&&e.constructor===C&&i)return e;I?s&&!i&&(e=e.source):e instanceof C&&(i&&(t=l.call(e)),e=e.source),k&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var r=c(I?new y(e,t):y(e,t),a?this:_,C);return k&&n&&g(r,{sticky:n}),r},S=function(e){e in C||r(C,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},R=u(y),w=0;while(R.length>w)S(R[w++]);_.constructor=C,C.prototype=_,p(s,"RegExp",C)}v("RegExp")},"4d65":function(e,t,n){},6361:function(e,t,n){},6819:function(e,t,n){e.exports=n.p+"img/icon-search.16170682.svg"},6919:function(e,t,n){"use strict";n("4d65")},7156:function(e,t,n){var a=n("861d"),s=n("d2bb");e.exports=function(e,t,n){var i,c;return s&&"function"==typeof(i=t.constructor)&&i!==n&&a(c=i.prototype)&&c!==n.prototype&&s(e,c),e}},"74c9":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"_back-button-container"},[n("button",{staticClass:"_back-button",on:{click:function(t){return e.$router.push(e.destination)}}},[n("span",[e.iconSrc?n("img",{attrs:{src:e.iconSrc}}):e._e()]),e._v(" Back ")])])},s=[],i={name:"BackButton",props:{destination:{type:String,default:"/"}},data:function(){return{prevRoute:null}},beforeRouteEnter:function(e,t,n){n((function(e){e.prevRoute=t}))},created:function(){this.iconSrc=n("e7ee")}},c=i,r=(n("e044"),n("2877")),u=Object(r["a"])(c,a,s,!1,null,"02b79a68",null);t["a"]=u.exports},7615:function(e,t,n){e.exports=n.p+"img/icon-eye.ae58f6fc.svg"},8192:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"_input-wrapper"},["checkbox"===e.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],class:{"is-invalid":e.isInvalid},attrs:{placeholder:e.placeholder,disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{input:e.onInput,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterKeyup(t)},change:function(t){var n=e.value,a=t.target,s=!!a.checked;if(Array.isArray(n)){var i=null,c=e._i(n,i);a.checked?c<0&&(e.value=n.concat([i])):c>-1&&(e.value=n.slice(0,c).concat(n.slice(c+1)))}else e.value=s}}}):"radio"===e.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],class:{"is-invalid":e.isInvalid},attrs:{placeholder:e.placeholder,disabled:e.disabled,type:"radio"},domProps:{checked:e._q(e.value,null)},on:{input:e.onInput,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterKeyup(t)},change:function(t){e.value=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],class:{"is-invalid":e.isInvalid},attrs:{placeholder:e.placeholder,disabled:e.disabled,type:e.inputType},domProps:{value:e.value},on:{input:[function(t){t.target.composing||(e.value=t.target.value)},e.onInput],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterKeyup(t)}}}),e.isPasswordInput?n("div",{staticClass:"_visibility-icon",on:{click:function(t){return t.preventDefault(),e.toggleVisibility(t)}}},[n("img",{attrs:{src:e.visibilityIcon}})]):e._e(),e.isMessageInput?n("span",{staticClass:"_message-input",on:{click:function(t){return t.preventDefault(),e.submitMessage(t)}}},[n("img",{attrs:{src:e.sendIcon}})]):e._e(),!e.isEmpty&&e.isInvalid?n("p",{staticClass:"_error-message"},[e._v(" "+e._s(e.errorMessage))]):e._e()])},s=[],i=(n("caad"),n("4d63"),n("ac1f"),n("25f0"),{name:"InputField",props:{placeholder:{type:String,default:""},type:{type:String,default:"text"},validationRule:{type:String,default:""},disabled:{type:Boolean,default:!1},isMessageInput:{type:Boolean,default:!1},errorMessage:{type:String,default:""}},data:function(){return{isInvalid:!1,value:null,isValueHidden:!0}},computed:{isPasswordInput:function(){return"password"===this.type},isEmpty:function(){return["",null,void 0].includes(this.value)},inputType:function(){return this.isPasswordInput?this.isValueHidden?"password":"text":this.type}},created:function(){this.visibilityIcon=n("7615"),this.sendIcon=n("0a70")},methods:{toggleVisibility:function(){this.value&&(this.isValueHidden=!this.isValueHidden)},onInput:function(){this.isInvalid=this.validateInput(),this.$emit("validate-input",this.isInvalid)},validateInput:function(){var e=new RegExp(this.validationRule);return!e.test(this.value)},submitMessage:function(){this.value&&(this.$emit("submitMessage",this.value),this.value="")},onEnterKeyup:function(){this.isMessageInput&&this.submitMessage()}}}),c=i,r=(n("6919"),n("2877")),u=Object(r["a"])(c,a,s,!1,null,"84291eac",null);t["a"]=u.exports},9263:function(e,t,n){"use strict";var a=n("ad6d"),s=n("9f7f"),i=RegExp.prototype.exec,c=String.prototype.replace,r=i,u=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),o=s.UNSUPPORTED_Y||s.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],d=u||l||o;d&&(r=function(e){var t,n,s,r,d=this,p=o&&d.sticky,f=a.call(d),g=d.source,v=0,m=e;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),m=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(g="(?: "+g+")",m=" "+m,v++),n=new RegExp("^(?:"+g+")",f)),l&&(n=new RegExp("^"+g+"$(?!\\s)",f)),u&&(t=d.lastIndex),s=i.call(p?n:d,m),p?s?(s.input=s.input.slice(v),s[0]=s[0].slice(v),s.index=d.lastIndex,d.lastIndex+=s[0].length):d.lastIndex=0:u&&s&&(d.lastIndex=d.global?s.index+s[0].length:t),l&&s&&s.length>1&&c.call(s[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(s[r]=void 0)})),s}),e.exports=r},"9b76":function(e,t,n){},"9df9":function(e,t,n){"use strict";n("9b76")},"9f7f":function(e,t,n){"use strict";var a=n("d039");function s(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var a=n("23e7"),s=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(e,t,n){"use strict";var a=n("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c39c:function(e,t,n){e.exports=n.p+"img/icon-more.e5fbd471.svg"},caad:function(e,t,n){"use strict";var a=n("23e7"),s=n("4d64").includes,i=n("44d2"),c=n("ae40"),r=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!r},{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},df3a:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"_avatar _"+e.size,on:{click:function(t){return e.$emit("click")}}},[e.imageSrc?n("img",{staticClass:"_avatar-image",attrs:{src:e.imageSrc,alt:"avatar"}}):e._e()])},s=[],i={name:"Avatar",props:{imageSrc:{type:String,default:""},size:{type:String,default:"sm"}}},c=i,r=(n("9df9"),n("2877")),u=Object(r["a"])(c,a,s,!1,null,"546bbb85",null);t["a"]=u.exports},e044:function(e,t,n){"use strict";n("1282")},e7ee:function(e,t,n){e.exports=n.p+"img/icon-back.05a6b054.svg"},ecdf:function(e,t,n){}}]);
//# sourceMappingURL=chat.cbb7e3d5.js.map